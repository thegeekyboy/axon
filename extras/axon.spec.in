# Restore old style debuginfo creation for rpm >= 4.14.
%undefine _debugsource_packages
%undefine _debuginfo_subpackages

# -*- rpm-spec -*-
Buildroot:		@CMAKE_CURRENT_BINARY_DIR@/_CPack_Packages/Linux/RPM/@CPACK_PACKAGE_FILE_NAME@
Summary:		@PROJECT_DESCRIPTION@
Name:			@CPACK_PACKAGE_NAME@
Version:		@CPACK_PACKAGE_VERSION@
Release:		@CPACK_PACKAGE_RELEASE@
License:		Apache-2.0
Group:			@CPACK_RPM_PACKAGE_GROUP@
Vendor:			@CPACK_PACKAGE_VENDOR@
Prefix:			@CPACK_PACKAGING_INSTALL_PREFIX@
Autoreqprov:	no
Requires:		@LIST_DEPS_RPM@

%define _topdir @CMAKE_CURRENT_BINARY_DIR@/_CPack_Packages/Linux/RPM
%define _rpmdir %_topdir/RPMS
%define _srcrpmdir %_topdir/SRPMS
%define _rpmfilename @CPACK_PACKAGE_FILE_NAME@.rpm
%define _unpackaged_files_terminate_build 0

%description
DESCRIPTION
===========
Helper library for Hyperion Mediation tool. But You are most welcome to
use this in anyway you like.

contact mark@binutil.net for help

https://github.com/thegeekyboy/axon

# This is a shortcutted spec file generated by CMake RPM generator
# we skip _install step because CPack does that for us.
# We do only save CPack installed tree in _prepr
# and then restore it in build.

%prep
mv $RPM_BUILD_ROOT %_topdir/tmpBBroot

%install
if [ -e $RPM_BUILD_ROOT ];
then
	rm -rf $RPM_BUILD_ROOT
fi
mv %_topdir/tmpBBroot $RPM_BUILD_ROOT

%clean

%post
@RPM_POST_INSTALL@

%postun
@RPM_POST_UNINSTALL@

%pre
@RPM_PRE_INSTALL@

%preun
@RPM_PRE_UNINSTALL@



%files
%defattr(-,root,root,-)
@RPM_FILELIST@
"@CMAKE_INSTALL_PREFIX@/@CMAKE_INSTALL_LIBDIR@/libaxon.so"
"@CMAKE_INSTALL_PREFIX@/@CMAKE_INSTALL_LIBDIR@/libaxon.so.@CPACK_PACKAGE_VERSION_MAJOR@"
"@CMAKE_INSTALL_PREFIX@/@CMAKE_INSTALL_LIBDIR@/libaxon.so.@CPACK_PACKAGE_VERSION_MAJOR@.@CPACK_PACKAGE_VERSION_MINOR@.@CPACK_PACKAGE_VERSION_PATCH@"
%dir "/usr/share/pkgconfig"
"/usr/share/pkgconfig/axon.pc"

%changelog
@RPM_GIT_LOG@
